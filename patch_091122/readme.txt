===================================================
MODx Evolution 日本語版 1.0.2J用 インストール時の失敗回避パッチ
===================================================

1.概要

http://modxcms-jp.com/bb/viewtopic.php?t=179
上記トピックで報告があったとおり、MODx Evolution 日本語版 1.0.0Jまたは1.0.1Jから、
1.0.2Jにアップデートしようとすると失敗し、ログインできなくなります。
当パッチはこの不具合に対応するものです。すでにアップデートに失敗した状態からでも
利用できます。

※このパッチはMODx Evolution 日本語版専用です。

2.パッチ適用方法

・srcフォルダ以下をMODxインストールしている同名フォルダに上書きします。
※階層さえ合っていれば、installフォルダの最下層のtinymce.tplのみを上書き
  するだけでもかまいません。FTP操作に慣れている場合はそのほうが確実です。

・通常手順でMODxのアップデートを始めます。すでに失敗している場合も同様です。

3.修正対象ソース

 [MODxインストール先]/install/assets/plugins/tinymce.tpl

4.注意点
日本語版MODx1.0.2p1は修正済みなので適用する必要はありません。

5.解説

MODx Evolution 1.0.2から、アドオンのインストール・アップデートに必要な
情報の記述をルール化できるようになりました。従来は生のSQLスクリプトを
読み込ませて直接インストールしていましたが、ルールに従って該当ファイルに
アドオン名・バージョン・サマリー・コード本体などの情報を記述することにより、
インストーラが自動的にこれを検出し、インストールまたはアップデート対象と
してユーザに提示できるようになっています。

このインストールエンジンに不備があり、プラグインのconfigストリングに
ダブルクォート・シングルクォート・アスタリスクなどが混在する場合、正しく
アップデートを完了できず、結果として、アップデート未遂状態の管理画面に
ログインできなくなります。

今回はインストールエンジン側の改善は見送り、tinymceインストールファイル側の
記述をエンジンに合わせて改めることとしました。

http://www.modxcms-jp.com/news/2009-1122.html
詳細については上記ページをご覧ください。


6.更新情報

2009/11/22 … リリース
